
# Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.

##### Ответ:

Таблица некоторых программных решений:

| Решение | Возможности |
| ------- | ----------- |
| Amazon API Gateway | Маршрутизация на основе путей и доменов, проверка авторизации с помощью JWТ, RESTful и НТТР API, терминация НТТРS |
| Azure API Management | Маршрутизация  на основе пути, проверки авторизации, терминация НТТРS, управление API и аналитика |
| Kong | Расширяемая маршрутизация, проверка авторизации с помощью различных плагинов, терминация НТТРS, поддержка микросервисов |
| Nginx Ingress Controller | Маршрутизация НТТР-трафика к кластерам Kubernetes, терминация  НТТРS, проверка авторизации с помощью IngressAuth |
| Тraefik | Динамическая  маршрутизация, проверка авторизации с помощью различных поставщиков, терминация НТТРS, поддержка микросервисов |

Сравнение возможностей программных решений:

| Функциональность | Amazon API Gateway | Azure API Management | Kong | Nginx Ingress Controller | Тraefik |
| ---------------- | ------------------ | -------------------- | ---- | ------------------------ | ------- |
| Маршрутизация | Да | Да | Да | Да | Да |
| Проверка авторизации | JWТ | JWТ и др. | Плагины | IngressAuth | Различные поставщики |
| Да | Да | Да | Да | Да | Да |

---

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

##### Ответ:

---
